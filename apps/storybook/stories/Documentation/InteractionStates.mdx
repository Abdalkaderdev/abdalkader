import { Meta } from '@storybook/react';
import { Button, Input, Card } from '@abdalkader/ui';

<Meta title="Documentation/Interaction States" />

# Interaction States

## Overview

All interactive components support consistent interaction states for better user experience and accessibility.

## Standard States

### Default
The normal, unmodified state of an interactive element.

### Hover
Triggered when the user hovers over an element with a pointing device.

### Focus
When an element receives keyboard focus or is activated via keyboard.

### Active/Pressed
The state when an element is being activated (mouse down or key press).

### Disabled
When an element is not interactive and cannot be activated.

### Loading
When an element is processing an action.

## Button States

```tsx
// Default
<Button variant="primary">Default</Button>

// Hover
// Automatically handled with CSS :hover

// Focus
// Automatically handled with CSS :focus

// Active
// Automatically handled with CSS :active

// Disabled
<Button variant="primary" disabled>Disabled</Button>

// Loading
<Button variant="primary" loading>Loading...</Button>
```

### Visual Indicators

- **Default**: Normal background color
- **Hover**: Slightly lighter/darker background, scale up (1.05x)
- **Focus**: Outline ring (2px solid primary color)
- **Active**: Scale down (0.95x), darker background
- **Disabled**: Reduced opacity (0.5), cursor not-allowed
- **Loading**: Spinner icon, disabled interaction

## Input States

```tsx
// Default
<Input placeholder="Enter text" />

// Focus
<Input placeholder="Enter text" autoFocus />

// Error
<Input placeholder="Enter text" error="Invalid input" />

// Disabled
<Input placeholder="Enter text" disabled />
```

### Visual Indicators

- **Default**: Normal border color
- **Focus**: Primary color border, glow effect
- **Error**: Red border, error message
- **Disabled**: Reduced opacity, cursor not-allowed

## Card States

```tsx
// Default
<Card>Content</Card>

// Hoverable
<Card hoverable>Hover me</Card>

// Interactive
<Card interactive onClick={handleClick}>
  Click me
</Card>

// With Glow
<Card glow>Glowing card</Card>
```

### Visual Indicators

- **Default**: Normal appearance
- **Hover**: Lift effect (translateY -8px), shadow increase
- **Interactive**: Cursor pointer, overlay on hover
- **Glow**: Orange glow effect on hover

## Keyboard Interactions

### Tab Navigation

```tsx
// All interactive elements should be focusable
<Button tabIndex={0}>Focusable</Button>

// Skip non-interactive elements
<div tabIndex={-1}>Not focusable</div>
```

### Enter/Space Activation

```tsx
// Buttons and links
<Button onClick={handleClick}>Activate with Enter/Space</Button>

// Custom interactive elements
<div
  role="button"
  tabIndex={0}
  onKeyDown={(e) => {
    if (e.key === 'Enter' || e.key === ' ') {
      e.preventDefault();
      handleClick();
    }
  }}
>
  Custom button
</div>
```

### Arrow Key Navigation

```tsx
// Tabs, menus, and lists
<Tabs>
  <TabPanel>Use arrow keys to navigate</TabPanel>
</Tabs>
```

## State Transitions

### Animation Timing

- **Fast**: 0.15s - For hover effects
- **Normal**: 0.3s - For most state changes
- **Slow**: 0.8s - For complex transitions

### Easing Functions

```css
/* Standard easing */
transition: all 0.3s cubic-bezier(0.19, 1, 0.22, 1);

/* For hover effects */
transition: transform 0.2s ease-out;

/* For color changes */
transition: background-color 0.3s ease-in-out;
```

## Reduced Motion

Always respect user preferences:

```css
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    transition-duration: 0.01ms !important;
  }
}
```

## Component-Specific States

### Modal

- **Open**: Visible with backdrop
- **Closing**: Fade out animation
- **Focus Trap**: Focus stays within modal

### Dropdown

- **Open**: Visible menu
- **Hover**: Highlighted item
- **Selected**: Active item indicator

### Tabs

- **Active**: Primary color indicator
- **Hover**: Background color change
- **Focus**: Outline ring

## Best Practices

1. **Always provide visual feedback** for all interactions
2. **Use consistent timing** across similar components
3. **Respect reduced motion** preferences
4. **Ensure keyboard accessibility** for all states
5. **Test with screen readers** to verify state announcements
6. **Use semantic HTML** for better accessibility
7. **Provide loading states** for async operations
8. **Handle error states** gracefully

## Testing

- Test all states with mouse
- Test all states with keyboard
- Test with screen readers
- Test with reduced motion enabled
- Verify focus indicators are visible
- Check color contrast in all states

