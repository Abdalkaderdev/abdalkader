import { Meta } from '@storybook/react';
import { Grid, Container, Stack } from '@abdalkader/ui';

<Meta title="Documentation/Responsive Design" />

# Responsive Design Guidelines

## Breakpoints

Our design system uses the following breakpoints:

| Breakpoint | Value | Usage |
|------------|-------|-------|
| **xs** | 0px | Mobile (default) |
| **sm** | 600px | Large mobile / Small tablet |
| **md** | 840px | Tablet |
| **lg** | 1200px | Desktop |
| **xl** | 1440px | Large desktop |
| **2xl** | 1920px | Extra large desktop |

## Responsive Typography

### Font Sizes

Typography scales responsively using `clamp()`:

```css
/* Hero text */
--font-size-hero: clamp(2.5rem, 8vw, 4.5rem);

/* Heading 1 */
--font-size-h1: clamp(2.2rem, 5vw, 4.5rem);

/* Body text */
--font-size-body: clamp(0.9rem, 2vw, 1rem);
```

### Implementation

```tsx
// Typography automatically scales
<h1 style={{ fontSize: 'var(--font-size-h1)' }}>
  Responsive Heading
</h1>
```

## Responsive Spacing

### Spacing Scale

Spacing adjusts based on viewport:

```css
/* Mobile: 75% of base */
@media (max-width: 599px) {
  --spacing-multiplier: 0.75;
}

/* Tablet: 90% of base */
@media (min-width: 600px) and (max-width: 839px) {
  --spacing-multiplier: 0.9;
}

/* Desktop: 100% of base */
@media (min-width: 840px) {
  --spacing-multiplier: 1;
}
```

## Layout Components

### Container

```tsx
// Responsive container
<Container size="lg">
  {/* Content automatically adjusts padding */}
</Container>
```

### Grid

```tsx
// Responsive grid
<Grid
  responsive={{
    mobile: 1,    // 1 column on mobile
    tablet: 2,    // 2 columns on tablet
    desktop: 4,   // 4 columns on desktop
  }}
>
  {/* Items automatically reflow */}
</Grid>
```

### Stack

```tsx
// Responsive stack
<Stack
  direction="column"  // Mobile: column
  // Tablet+: can switch to row with media queries
>
  {/* Items stack vertically on mobile */}
</Stack>
```

## Mobile-First Approach

### CSS Media Queries

```css
/* Mobile-first: base styles for mobile */
.component {
  padding: 1rem;
  font-size: 0.9rem;
}

/* Tablet and up */
@media (min-width: 600px) {
  .component {
    padding: 1.5rem;
    font-size: 1rem;
  }
}

/* Desktop and up */
@media (min-width: 840px) {
  .component {
    padding: 2rem;
    font-size: 1.1rem;
  }
}
```

## Component Patterns

### Navigation

```tsx
// Mobile: Hamburger menu
// Desktop: Horizontal navigation
<nav>
  <button className="mobile-menu">â˜°</button>
  <ul className="desktop-nav">
    {/* Navigation items */}
  </ul>
</nav>
```

### Cards

```tsx
// Mobile: Stacked
// Desktop: Grid
<Grid
  responsive={{
    mobile: 1,
    desktop: 3,
  }}
>
  {cards.map(card => <Card key={card.id} {...card} />)}
</Grid>
```

### Tables

```tsx
// Mobile: Card view
// Desktop: Table view
<div className="table-container">
  {/* Responsive table with horizontal scroll on mobile */}
</div>
```

## Touch Targets

### Minimum Sizes

- **Touch targets**: Minimum 44x44px (iOS) or 48x48px (Material)
- **Spacing between targets**: Minimum 8px

```css
.button {
  min-height: 44px;
  min-width: 44px;
  padding: 0.75rem 1.25rem;
}
```

## Viewport Meta Tag

```html
<meta
  name="viewport"
  content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes"
/>
```

## Testing

### Device Testing

- **Mobile**: 320px - 599px
- **Tablet**: 600px - 839px
- **Desktop**: 840px+

### Browser DevTools

Use responsive design mode in:
- Chrome DevTools
- Firefox DevTools
- Safari Responsive Design Mode

### Real Device Testing

Test on actual devices when possible:
- iOS devices (iPhone, iPad)
- Android devices
- Various screen sizes

## Best Practices

1. **Mobile-first**: Design for mobile, enhance for larger screens
2. **Flexible layouts**: Use flexbox and grid
3. **Fluid typography**: Use clamp() for responsive text
4. **Touch-friendly**: Ensure adequate touch target sizes
5. **Performance**: Optimize images and assets for mobile
6. **Progressive enhancement**: Core functionality works everywhere
7. **Test thoroughly**: Test on multiple devices and browsers

## Common Patterns

### Hide/Show Elements

```css
/* Hide on mobile */
.mobile-hidden {
  display: none;
}

@media (min-width: 840px) {
  .mobile-hidden {
    display: block;
  }
}

/* Show only on mobile */
.desktop-hidden {
  display: block;
}

@media (min-width: 840px) {
  .desktop-hidden {
    display: none;
  }
}
```

### Responsive Images

```tsx
<picture>
  <source
    media="(min-width: 840px)"
    srcSet="/images/desktop.jpg"
  />
  <source
    media="(min-width: 600px)"
    srcSet="/images/tablet.jpg"
  />
  <img
    src="/images/mobile.jpg"
    alt="Responsive image"
  />
</picture>
```

## Resources

- [MDN Responsive Design](https://developer.mozilla.org/en-US/docs/Learn/CSS/CSS_layout/Responsive_Design)
- [CSS-Tricks Responsive Design](https://css-tricks.com/snippets/css/complete-guide-grid/)
- [Can I Use](https://caniuse.com/) - Browser compatibility

