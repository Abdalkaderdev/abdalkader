@import "@/styles/variables.scss";

// Wrapper provides the perspective context
.tiltWrapper {
    display: inline-block;
    perspective: 1000px;
    transform-style: preserve-3d;
}

// The actual card that tilts
.tiltCard {
    position: relative;
    transform-style: preserve-3d;
    will-change: transform;
    transition: box-shadow $transition;

    // Subtle shadow enhancement on hover
    &.hovering {
        box-shadow:
            0 20px 40px rgba(0, 0, 0, 0.3),
            0 10px 20px rgba(0, 0, 0, 0.2);
    }

    // Touch device - no tilt, simple hover
    &.touchDevice {
        transform: none !important;

        &:active {
            transform: scale(0.98) !important;
        }
    }

    // Disabled state
    &.disabled {
        transform: none !important;
        pointer-events: none;
    }
}

// Global glare styles (injected by hook but can be styled)
:global(.tilt-glare) {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    border-radius: inherit;
    z-index: 10;
}

// Reduced motion
@media (prefers-reduced-motion: reduce) {
    .tiltCard {
        transform: none !important;
        transition: none;

        &:hover {
            box-shadow: none;
        }
    }
}
