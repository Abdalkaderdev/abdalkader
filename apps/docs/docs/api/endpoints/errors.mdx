---
title: 'Error Reporting'
description: 'Report errors for tracking and analysis'
api: '/api/errors'
method: 'POST'
---

# Error Reporting

Report errors for tracking, analysis, and debugging. This endpoint accepts error reports including error messages, stack traces, and contextual information.

<Warning>
  This endpoint is only available in the staging environment.
</Warning>

## Endpoint

```
POST /api/errors
```

## Authentication

<ParamField header="X-API-Key" type="string" required>
  Your API key for authentication.
</ParamField>

## Request

### Headers

| Header | Type | Required | Description |
|--------|------|----------|-------------|
| `Content-Type` | string | Yes | Must be `application/json` |
| `X-API-Key` | string | Yes | Your API key |

### Request Body

<ParamField body="message" type="string" required>
  Error message describing what went wrong.
</ParamField>

<ParamField body="stack" type="string">
  Error stack trace for debugging.
</ParamField>

<ParamField body="url" type="string" required>
  URL where the error occurred.
</ParamField>

<ParamField body="userAgent" type="string" required>
  User agent string of the client.
</ParamField>

<ParamField body="timestamp" type="number" required>
  Unix timestamp in milliseconds when the error occurred.
</ParamField>

<ParamField body="sessionId" type="string" required>
  Session ID for tracking user sessions.
</ParamField>

<ParamField body="userId" type="string">
  Optional user ID if the user is authenticated.
</ParamField>

<ParamField body="buildId" type="string">
  Build ID or version identifier.
</ParamField>

<ParamField body="environment" type="string" required>
  Environment where the error occurred. Possible values:
  - `production`
  - `staging`
  - `development`
</ParamField>

<ParamField body="additionalContext" type="object">
  Additional context about the error. Can include:
  - Component name
  - User actions
  - State information
  - Custom metadata
</ParamField>

### Example Request

<Tabs>
  <Tab title="JavaScript">
    ```javascript
    const API_KEY = 'your-api-key-here';
    
    const errorReport = {
      message: 'Failed to load resource',
      stack: error.stack,
      url: window.location.href,
      userAgent: navigator.userAgent,
      timestamp: Date.now(),
      sessionId: getSessionId(),
      environment: 'production',
      additionalContext: {
        component: 'ResourceLoader',
        action: 'fetch',
        resourceUrl: 'https://api.example.com/data'
      }
    };
    
    const response = await fetch('https://staging.abdalkader.dev/api/errors', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'X-API-Key': API_KEY
      },
      body: JSON.stringify(errorReport)
    });
    
    const data = await response.json();
    console.log('Error reported:', data.errorId);
    ```
  </Tab>
  <Tab title="Python">
    ```python
    import requests
    import time
    import traceback

    API_KEY = 'your-api-key-here'
    
    try:
        # Your code that might raise an error
        result = 1 / 0
    except Exception as e:
        error_report = {
            'message': str(e),
            'stack': traceback.format_exc(),
            'url': 'https://abdalkader.dev',
            'userAgent': 'MyApp/1.0',
            'timestamp': int(time.time() * 1000),
            'sessionId': get_session_id(),
            'environment': 'production',
            'additionalContext': {
                'component': 'Calculator',
                'operation': 'division'
            }
        }
        
        response = requests.post(
            'https://staging.abdalkader.dev/api/errors',
            headers={
                'Content-Type': 'application/json',
                'X-API-Key': API_KEY
            },
            json=error_report
        )
        
        data = response.json()
        print(f'Error reported: {data["errorId"]}')
    ```
  </Tab>
  <Tab title="cURL">
    ```bash
    curl -X POST https://staging.abdalkader.dev/api/errors \
      -H "Content-Type: application/json" \
      -H "X-API-Key: your-api-key-here" \
      -d '{
        "message": "Failed to load resource",
        "stack": "Error: Failed to load resource\n    at fetchResource (app.js:123:45)",
        "url": "https://abdalkader.dev",
        "userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64)",
        "timestamp": 1705312200000,
        "sessionId": "sess_abc123",
        "environment": "production",
        "additionalContext": {
          "component": "ResourceLoader",
          "action": "fetch"
        }
      }'
    ```
  </Tab>
</Tabs>

## Response

### Success Response (200 OK)

```json
{
  "success": true,
  "errorId": "err_1705312200000_abc123xyz"
}
```

### Response Schema

<ParamField body="success" type="boolean" required>
  Whether the error was reported successfully.
</ParamField>

<ParamField body="errorId" type="string" required>
  Unique error ID for tracking and reference.
</ParamField>

<ParamField body="message" type="string">
  Optional success message.
</ParamField>

### Error Responses

#### 400 Bad Request

Invalid error report data:

```json
{
  "success": false,
  "message": "Invalid error report data"
}
```

#### 404 Not Found

Not available in this environment:

```json
{
  "success": false,
  "message": "Error tracking not available in this environment"
}
```

#### 405 Method Not Allowed

Wrong HTTP method:

```json
{
  "success": false,
  "message": "Method not allowed"
}
```

## Use Cases

### Global Error Handler

```javascript
// Global error handler
window.addEventListener('error', async (event) => {
  const errorReport = {
    message: event.message,
    stack: event.error?.stack,
    url: event.filename || window.location.href,
    userAgent: navigator.userAgent,
    timestamp: Date.now(),
    sessionId: getSessionId(),
    environment: 'production',
    additionalContext: {
      filename: event.filename,
      lineno: event.lineno,
      colno: event.colno,
      type: 'javascript_error'
    }
  };
  
  await reportError(errorReport);
});

// Unhandled promise rejection handler
window.addEventListener('unhandledrejection', async (event) => {
  const errorReport = {
    message: event.reason?.message || 'Unhandled promise rejection',
    stack: event.reason?.stack,
    url: window.location.href,
    userAgent: navigator.userAgent,
    timestamp: Date.now(),
    sessionId: getSessionId(),
    environment: 'production',
    additionalContext: {
      type: 'unhandled_promise_rejection',
      reason: String(event.reason)
    }
  };
  
  await reportError(errorReport);
});
```

### React Error Boundary

```javascript
class ErrorBoundary extends React.Component {
  componentDidCatch(error, errorInfo) {
    const errorReport = {
      message: error.message,
      stack: error.stack,
      url: window.location.href,
      userAgent: navigator.userAgent,
      timestamp: Date.now(),
      sessionId: getSessionId(),
      environment: 'production',
      additionalContext: {
        componentStack: errorInfo.componentStack,
        type: 'react_error_boundary'
      }
    };
    
    reportError(errorReport);
  }
  
  render() {
    // Error boundary UI
  }
}
```

### Try-Catch Error Reporting

```javascript
async function fetchData() {
  try {
    const response = await fetch('/api/data');
    return await response.json();
  } catch (error) {
    await reportError({
      message: error.message,
      stack: error.stack,
      url: window.location.href,
      userAgent: navigator.userAgent,
      timestamp: Date.now(),
      sessionId: getSessionId(),
      environment: 'production',
      additionalContext: {
        function: 'fetchData',
        endpoint: '/api/data',
        type: 'api_error'
      }
    });
    throw error;
  }
}
```

## Rate Limiting

This endpoint has a rate limit of 50 requests per minute per API key to prevent abuse.

## Related Endpoints

<CardGroup cols={2}>
  <Card title="Health Check" icon="heartbeat" href="/api/endpoints/health">
    Check system health status
  </Card>
  <Card title="Performance Metrics" icon="chart-line" href="/api/endpoints/performance">
    Submit performance metrics
  </Card>
</CardGroup>

